{"version":3,"sources":["webpack:///./src/components/PlayPage/MainComment.vue?0e3b","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/components/PlayPage/MainComment.vue?b8f0","webpack:///./src/components/PlayPage/MainComment.vue?dc3d","webpack:///src/components/PlayPage/MainComment.vue","webpack:///./src/components/PlayPage/MainComment.vue?0228","webpack:///./src/components/PlayPage/MainComment.vue"],"names":["fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","String","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","this","replacer","call","regexp","indexOf","res","done","value","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","push","matchStr","accumulatedResult","nextSourcePosition","i","length","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_l","item","key","id","attrs","uFace","_v","_s","uName","domProps","textToHtml","content","_f","time","like","on","$event","reply","uId","name","showSwitch","children","comments","getSubComment","_e","inputId","refInFor","makeSubComment","model","callback","$$v","subCommentText","expression","staticRenderFns","props","commentData","watchCommentHeight","submitComment","data","replyUId","watch","immediate","deep","handler","$nextTick","methods","e","target","firstChild","style","text","replace","mainCommentId","reply_user","setTimeout","trim","$emit","watchComment","flag","clearInputId","filters","timeFormat","add0","val","mounted","window","addEventListener","beforeDestroy","removeEventListener","components","SubComment","CommentInput","component"],"mappings":"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","file":"js/chunk-3e22c0ac.5538731f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainComment.vue?vue&type=style&index=0&id=61c5ce94&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainComment.vue?vue&type=style&index=0&id=61c5ce94&lang=less&scoped=true&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainComment.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainComment.vue?vue&type=style&index=1&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"comment-items\",staticClass:\"comment-items\"},_vm._l((_vm.commentData),function(item){return _c('div',{key:item.id,staticClass:\"comment-item\"},[_c('div',[_c('a',{staticClass:\"user-head\",attrs:{\"href\":\"#\"}},[_c('img',{attrs:{\"src\":item.uFace}})])]),_c('div',{staticClass:\"user-comment\"},[_c('span',{staticClass:\"user-name\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(item.uName))])]),_c('div',{staticClass:\"comment\",domProps:{\"innerHTML\":_vm._s(_vm.textToHtml(item.content))}}),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"timeFormat\")(item.time)))]),_c('span',{staticClass:\"like\"},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1598795452303\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"1724\",\"width\":\"32\",\"height\":\"32\"}},[_c('path',{attrs:{\"d\":\"M860.8 300.8h-297.6l6.4-67.2 9.6-118.4c3.2-16-6.4-32-22.4-35.2-9.6-3.2-22.4 0-28.8 9.6l-147.2 188.8-19.2 25.6h-192c-6.4 0-12.8 3.2-19.2 6.4-19.2 9.6-28.8 28.8-28.8 48v342.4c0 9.6 3.2 22.4 9.6 28.8 9.6 19.2 28.8 28.8 48 25.6h537.6c12.8 0 22.4-3.2 32-9.6 25.6-12.8 44.8-35.2 48-64l102.4-336 57.6 12.8-57.6-12.8c3.2-9.6 0-22.4-3.2-32-9.6-6.4-22.4-12.8-35.2-12.8l6.4-57.6-6.4 57.6z m-233.6-57.6h240c28.8 0 57.6 12.8 76.8 38.4 16 22.4 19.2 54.4 12.8 80l-102.4 339.2c-16 64-70.4 108.8-137.6 112H179.2c-41.6 3.2-80-19.2-99.2-54.4-9.6-19.2-16-38.4-16-57.6V358.4c0-41.6 22.4-80 57.6-99.2 19.2-9.6 38.4-12.8 57.6-16h144L480 48c32-35.2 89.6-38.4 124.8-6.4 19.2 19.2 32 44.8 28.8 73.6l-6.4 128z m-323.2 512h57.6V304H304v451.2z\",\"fill\":\"\",\"p-id\":\"1725\"}})]),_vm._v(\" \"+_vm._s(item.like)+\" \")]),_c('span',{staticClass:\"hate\"},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1598795465550\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"1875\",\"width\":\"32\",\"height\":\"32\"}},[_c('path',{attrs:{\"d\":\"M860.8 723.2l6.4 57.6-6.4-57.6c12.8 0 25.6-3.2 35.2-12.8 6.4-9.6 6.4-22.4 3.2-32l57.6-12.8-57.6 12.8L800 342.4c-6.4-28.8-25.6-51.2-48-64-9.6-6.4-22.4-9.6-32-9.6H182.4c-22.4-3.2-41.6 6.4-51.2 25.6-6.4 9.6-6.4 19.2-9.6 28.8v342.4c0 19.2 9.6 38.4 28.8 48 6.4 3.2 12.8 6.4 19.2 6.4h192l19.2 25.6 147.2 188.8c6.4 9.6 19.2 12.8 28.8 9.6 16-3.2 25.6-19.2 22.4-35.2l-9.6-118.4-6.4-67.2h297.6z m-233.6 57.6l9.6 128c3.2 28.8-9.6 54.4-28.8 73.6-35.2 32-92.8 28.8-124.8-6.4l-156.8-195.2H179.2c-19.2 0-38.4-6.4-57.6-16-35.2-19.2-57.6-57.6-57.6-99.2V323.2c0-19.2 6.4-38.4 16-57.6 19.2-38.4 57.6-60.8 99.2-54.4h537.6c67.2 3.2 121.6 48 137.6 112l102.4 339.2c6.4 28.8 3.2 57.6-12.8 80-19.2 22.4-48 38.4-76.8 38.4h-240zM304 268.8v451.2h57.6V268.8H304z\",\"fill\":\"\",\"p-id\":\"1876\"}})])]),_c('span',{staticClass:\"reply\",on:{\"click\":function($event){return _vm.reply(item.id, { id: item.uId, name: item.uName })}}},[_vm._v(\"回复\")]),_c('div',{staticClass:\"more icon icon-ellipsis\",attrs:{\"tabindex\":\"1\"},on:{\"click\":function($event){return _vm.showSwitch($event, 1)},\"blur\":function($event){return _vm.showSwitch($event, 0)}}},[(item.uId === 1)?_c('ul',[_c('li',[_vm._v(\"删除\")])]):_c('ul',[_c('li',[_vm._v(\"举报\")])])])]),(item.children.comments.length)?_c('SubComment',{attrs:{\"subCommentData\":item.children,\"textToHtml\":_vm.textToHtml,\"mainCId\":item.id,\"mainUser\":item.uId,\"getSubComment\":_vm.getSubComment,\"reply\":_vm.reply,\"showSwitch\":_vm.showSwitch}}):_vm._e(),(_vm.inputId === item.id)?_c('CommentInput',{ref:\"input\",refInFor:true,attrs:{\"submitComment\":_vm.makeSubComment},model:{value:(_vm.subCommentText),callback:function ($$v) {_vm.subCommentText=$$v},expression:\"subCommentText\"}}):_vm._e()],1)])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-items\" ref=\"comment-items\">\r\n    <div class=\"comment-item\" v-for=\"item in commentData\" :key=\"item.id\">\r\n      <div>\r\n        <a href=\"#\" class=\"user-head\">\r\n          <img :src=\"item.uFace\" />\r\n        </a>\r\n      </div>\r\n      <div class=\"user-comment\">\r\n        <span class=\"user-name\">\r\n          <a href=\"#\">{{ item.uName }}</a>\r\n        </span>\r\n        <div class=\"comment\" v-html=\"textToHtml(item.content)\"></div>\r\n        <div class=\"info\">\r\n          <span class=\"time\">{{ item.time | timeFormat }}</span>\r\n          <span class=\"like\">\r\n            <svg\r\n              t=\"1598795452303\"\r\n              class=\"icon\"\r\n              viewBox=\"0 0 1024 1024\"\r\n              version=\"1.1\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              p-id=\"1724\"\r\n              width=\"32\"\r\n              height=\"32\"\r\n            >\r\n              <path\r\n                d=\"M860.8 300.8h-297.6l6.4-67.2 9.6-118.4c3.2-16-6.4-32-22.4-35.2-9.6-3.2-22.4 0-28.8 9.6l-147.2 188.8-19.2 25.6h-192c-6.4 0-12.8 3.2-19.2 6.4-19.2 9.6-28.8 28.8-28.8 48v342.4c0 9.6 3.2 22.4 9.6 28.8 9.6 19.2 28.8 28.8 48 25.6h537.6c12.8 0 22.4-3.2 32-9.6 25.6-12.8 44.8-35.2 48-64l102.4-336 57.6 12.8-57.6-12.8c3.2-9.6 0-22.4-3.2-32-9.6-6.4-22.4-12.8-35.2-12.8l6.4-57.6-6.4 57.6z m-233.6-57.6h240c28.8 0 57.6 12.8 76.8 38.4 16 22.4 19.2 54.4 12.8 80l-102.4 339.2c-16 64-70.4 108.8-137.6 112H179.2c-41.6 3.2-80-19.2-99.2-54.4-9.6-19.2-16-38.4-16-57.6V358.4c0-41.6 22.4-80 57.6-99.2 19.2-9.6 38.4-12.8 57.6-16h144L480 48c32-35.2 89.6-38.4 124.8-6.4 19.2 19.2 32 44.8 28.8 73.6l-6.4 128z m-323.2 512h57.6V304H304v451.2z\"\r\n                fill\r\n                p-id=\"1725\"\r\n              />\r\n            </svg>\r\n            {{ item.like }}\r\n          </span>\r\n          <span class=\"hate\">\r\n            <svg\r\n              t=\"1598795465550\"\r\n              class=\"icon\"\r\n              viewBox=\"0 0 1024 1024\"\r\n              version=\"1.1\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              p-id=\"1875\"\r\n              width=\"32\"\r\n              height=\"32\"\r\n            >\r\n              <path\r\n                d=\"M860.8 723.2l6.4 57.6-6.4-57.6c12.8 0 25.6-3.2 35.2-12.8 6.4-9.6 6.4-22.4 3.2-32l57.6-12.8-57.6 12.8L800 342.4c-6.4-28.8-25.6-51.2-48-64-9.6-6.4-22.4-9.6-32-9.6H182.4c-22.4-3.2-41.6 6.4-51.2 25.6-6.4 9.6-6.4 19.2-9.6 28.8v342.4c0 19.2 9.6 38.4 28.8 48 6.4 3.2 12.8 6.4 19.2 6.4h192l19.2 25.6 147.2 188.8c6.4 9.6 19.2 12.8 28.8 9.6 16-3.2 25.6-19.2 22.4-35.2l-9.6-118.4-6.4-67.2h297.6z m-233.6 57.6l9.6 128c3.2 28.8-9.6 54.4-28.8 73.6-35.2 32-92.8 28.8-124.8-6.4l-156.8-195.2H179.2c-19.2 0-38.4-6.4-57.6-16-35.2-19.2-57.6-57.6-57.6-99.2V323.2c0-19.2 6.4-38.4 16-57.6 19.2-38.4 57.6-60.8 99.2-54.4h537.6c67.2 3.2 121.6 48 137.6 112l102.4 339.2c6.4 28.8 3.2 57.6-12.8 80-19.2 22.4-48 38.4-76.8 38.4h-240zM304 268.8v451.2h57.6V268.8H304z\"\r\n                fill\r\n                p-id=\"1876\"\r\n              />\r\n            </svg>\r\n          </span>\r\n          <span class=\"reply\" @click=\"reply(item.id, { id: item.uId, name: item.uName })\">回复</span>\r\n\r\n          <div\r\n            class=\"more icon icon-ellipsis\"\r\n            @click=\"showSwitch($event, 1)\"\r\n            @blur=\"showSwitch($event, 0)\"\r\n            tabindex=\"1\"\r\n          >\r\n            <ul v-if=\"item.uId === 1\">\r\n              <li>删除</li>\r\n            </ul>\r\n            <ul v-else>\r\n              <li>举报</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <SubComment\r\n          v-if=\"item.children.comments.length\"\r\n          :subCommentData=\"item.children\"\r\n          :textToHtml=\"textToHtml\"\r\n          :mainCId=\"item.id\"\r\n          :mainUser=\"item.uId\"\r\n          :getSubComment=\"getSubComment\"\r\n          :reply=\"reply\"\r\n          :showSwitch=\"showSwitch\"\r\n        />\r\n        <CommentInput\r\n          v-if=\"inputId === item.id\"\r\n          v-model=\"subCommentText\"\r\n          :submitComment=\"makeSubComment\"\r\n          ref=\"input\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    commentData: { type: Array, default: () => [] },\r\n    watchCommentHeight: { type: Function },\r\n    submitComment: { type: Function, default: () => { } },\r\n    getSubComment: { type: Function }\r\n  },\r\n  data () {\r\n    return {\r\n      inputId: undefined,\r\n      replyUId: undefined,\r\n      subCommentText: ''\r\n    }\r\n  },\r\n  watch: {\r\n    commentData: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler () {\r\n        this.$nextTick(() => {\r\n          this.watchComment()\r\n        })\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    showSwitch (e, type) {\r\n      e.target.firstChild.style = `display: ${type ? 'block' : 'none'};`\r\n    },\r\n    /* text 转 html */\r\n    textToHtml (text) {\r\n      return text.replace(/ /g, '&#160;').replace(/\\n/g, '<br />')\r\n    },\r\n    /* 回复 */\r\n    reply (mainCommentId, reply_user) {\r\n      // console.log('mainCommentId', mainCommentId)\r\n      this.inputId = mainCommentId\r\n      this.replyUId = reply_user.id\r\n      this.subCommentText = ''\r\n\r\n      setTimeout(() => {\r\n        this.$refs.input[0].inputFoucs(reply_user.name)\r\n      })\r\n    },\r\n    /* 发表二级评论 */\r\n    makeSubComment () {\r\n      if (this.subCommentText.trim()) {\r\n        this.$emit('submitComment', this.subCommentText, this.replyUId, this.inputId)\r\n        this.subCommentText = ''\r\n        this.inputId = undefined\r\n      }\r\n    },\r\n    watchComment () {\r\n      const docHeight = (document.documentElement || document.body).clientHeight\r\n      // console.log(docHeight, this.$refs.clientHeight)\r\n      const flag = this.$refs['comment-items'].clientHeight > docHeight ? true : false\r\n      this.$emit('watchCommentHeight', flag)\r\n    },\r\n    clearInputId () {\r\n      this.inputId = undefined\r\n    }\r\n  },\r\n  filters: {\r\n    timeFormat (time) {\r\n      const date = new Date(time)\r\n      const Y = date.getFullYear()\r\n      const M = add0(date.getMonth() + 1)\r\n      const D = add0(date.getDate())\r\n      const h = add0(date.getHours())\r\n      const m = add0(date.getMinutes())\r\n\r\n      return `${Y}-${M}-${D} ${h}:${m}`\r\n\r\n      function add0 (val) {\r\n        return val < 10 ? '0' + val : val\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    window.addEventListener('resize', this.watchComment)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('resize', this.watchComment)\r\n  },\r\n  components: {\r\n    SubComment: () => import('./SubComment'),\r\n    CommentInput: () => import('./CommentInput')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-items {\r\n  .comment-item {\r\n    display: flex;\r\n    padding-top: 15px;\r\n\r\n    .user-head {\r\n      display: block;\r\n      width: 48px;\r\n      height: 48px;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n    }\r\n\r\n    .user-comment {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      margin-left: 25px;\r\n      padding-bottom: 10px;\r\n      border-bottom: 1px solid #e5e9ef;\r\n    }\r\n\r\n    .user-name {\r\n      padding: 4px 0;\r\n      a {\r\n        color: #6d758f;\r\n      }\r\n      .vip {\r\n        color: #ff6b6b;\r\n      }\r\n      a:hover {\r\n        color: #ff6b6b;\r\n      }\r\n    }\r\n\r\n    .comment {\r\n      line-height: 22px;\r\n      padding-right: 15px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n.comment-item .info {\r\n  // display: flex;\r\n  // align-items: center;\r\n  line-height: 30px;\r\n  font-size: 12px;\r\n\r\n  .time {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  .like,\r\n  .hate,\r\n  .reply {\r\n    font-size: 13px;\r\n    margin: 0 6px;\r\n    cursor: pointer;\r\n\r\n    svg {\r\n      width: 16px;\r\n      height: 16px;\r\n      vertical-align: middle;\r\n    }\r\n\r\n    &:hover svg {\r\n      fill: #ff6b6b;\r\n    }\r\n  }\r\n\r\n  .reply {\r\n    padding: 4px;\r\n    border-radius: 2px;\r\n\r\n    &:hover {\r\n      color: #ff6b6b;\r\n      background-color: #d6dbe2;\r\n    }\r\n  }\r\n\r\n  .more {\r\n    float: right;\r\n    position: relative;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #ff6b6b;\r\n    }\r\n\r\n    ul {\r\n      display: none;\r\n      position: absolute;\r\n      top: 100%;\r\n      right: 0;\r\n      width: 100px;\r\n      padding: 5px 0;\r\n      background-color: #ffffff;\r\n      border-radius: 4px;\r\n      box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\r\n      // text-align: center;\r\n\r\n      li {\r\n        font-size: 14px;\r\n        color: #000000;\r\n        padding: 5px 20px;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          background-color: #e5e9ef;\r\n          color: #ff6b6b;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainComment.vue?vue&type=template&id=61c5ce94&scoped=true&\"\nimport script from \"./MainComment.vue?vue&type=script&lang=js&\"\nexport * from \"./MainComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainComment.vue?vue&type=style&index=0&id=61c5ce94&lang=less&scoped=true&\"\nimport style1 from \"./MainComment.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61c5ce94\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}